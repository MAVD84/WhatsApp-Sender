<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ubican ID - Env칤o R치pido</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'DM Sans', sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1629 100%);
            min-height: 100vh;
            color: #e0e7ff;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
        }
        .btn-send {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            transition: all 0.3s ease;
        }
        input, textarea {
            background: rgba(255, 255, 255, 0.05) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            color: white !important;
        }
    </style>
</head>
<body class="p-4 md:p-12">
    <div class="max-w-4xl mx-auto">
        <div class="text-center mb-10">
            <h1 class="text-4xl font-bold mb-2 text-white">Ubican <span class="text-green-400">ID</span> Directo</h1>
            <p class="text-gray-400">Env칤o optimizado: Solo presiona <b>Enter</b> en cada pesta침a.</p>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
            <div class="glass-card p-6">
                <h2 class="text-xl font-bold mb-4">N칰meros (+52...)</h2>
                <textarea id="contactList" class="w-full h-48 p-3 rounded-xl mb-4" placeholder="Pega aqu칤 los n칰meros, uno por l칤nea"></textarea>
                <p class="text-xs text-gray-500">Aseg칰rate de incluir el c칩digo de pa칤s sin el signo +.</p>
            </div>

            <div class="glass-card p-6">
                <h2 class="text-xl font-bold mb-4">Mensaje</h2>
                <textarea id="messageArea" class="w-full h-48 p-3 rounded-xl mb-4" placeholder="Escribe tu mensaje..."></textarea>
            </div>
        </div>

        <div class="mt-8 text-center">
            <button onclick="startBulkSend()" id="btnMain" class="btn-send px-12 py-4 rounded-2xl text-xl font-bold text-white shadow-xl">
                游 Abrir Chats de WhatsApp
            </button>
            <div id="status" class="mt-4 text-sm text-green-400"></div>
        </div>

        <div class="mt-12 text-sm text-gray-500 bg-black/20 p-6 rounded-xl border border-white/5">
            <h3 class="font-bold text-gray-300 mb-2">游눠 쮺칩mo usarlo para que sea r치pido?</h3>
            <ol class="list-decimal ml-4 space-y-1">
                <li>Ten **WhatsApp Web** ya iniciado en tu navegador.</li>
                <li>Haz clic en el bot칩n verde. Tu navegador abrir치 pesta침as nuevas.</li>
                <li>Si el navegador te pregunta, activa **"Permitir ventanas emergentes"**.</li>
                <li>Solo tendr치s que ir pesta침a por pesta침a presionando la tecla **Enter**.</li>
            </ol>
        </div>
    </div>

    <script>
        function startBulkSend() {
            const rawContacts = document.getElementById('contactList').value.split('\n');
            const message = document.getElementById('messageArea').value;
            const btn = document.getElementById('btnMain');
            
            if (!message || rawContacts.length === 0) {
                alert("Llena los n칰meros y el mensaje.");
                return;
            }

            const contacts = rawContacts.map(c => c.replace(/\D/g, '')).filter(c => c.length > 0);
            
            btn.disabled = true;
            btn.innerText = "Abriendo pesta침as...";

            let i = 0;
            const interval = setInterval(() => {
                if (i >= contacts.length) {
                    clearInterval(interval);
                    btn.disabled = false;
                    btn.innerText = "游 Iniciar Env칤o Masivo";
                    document.getElementById('status').innerText = "춰Listo! Presiona Enter en cada pesta침a.";
                    return;
                }

                const phone = contacts[i];
                // USAMOS EL LINK DIRECTO DE ENV칈O PARA WHATSAPP WEB
                const url = `https://web.whatsapp.com/send?phone=${phone}&text=${encodeURIComponent(message)}`;
                
                window.open(url, '_blank');
                
                i++;
                document.getElementById('status').innerText = `Abriendo chat ${i} de ${contacts.length}...`;
            }, 3000); // 3 segundos entre pesta침as para no colapsar el navegador
        }
    </script>
</body>
</html>
